Logfile for bbregister
Sun Oct  8 03:42:44 UTC 2023

setenv SUBJECTS_DIR /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job
cd /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/scripts
/opt/freesurfer/bin/bbregister --s sub-02_ses-001 --mov /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/orig/T2raw.mgz --lta /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/T2raw.auto.lta --init-coreg --T2 --gm-proj-abs 2 --wm-proj-abs 1 --no-coreg-ref-mask

bbregister 7.4.1
Linux bc12102.int.ets1.calculquebec.ca 3.10.0-1160.90.1.el7.x86_64 #1 SMP Thu May 4 15:21:22 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux
FREESURFER_HOME /opt/freesurfer
mri_convert /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/orig/T2raw.mgz /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/template.nii
mri_convert /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/orig/T2raw.mgz /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/template.nii 
reading from /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/orig/T2raw.mgz...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (1, 0, 0)
j_ras = (0, 1, 0)
k_ras = (0, 0, 1)
writing to /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/template.nii...
mri_coreg --s sub-02_ses-001 --mov /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/template.nii --regdat /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/reg.init.dat --reg /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/mri_coreg.lta --nthreads 4 --dof 6 --sep 4 --ftol .0001 --linmintol .01 --no-ref-mask

$Id: mri_coreg.c,v 1.27 2016/04/30 15:11:49 greve Exp $
cwd /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/scripts
cmdline mri_coreg --s sub-02_ses-001 --mov /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/template.nii --regdat /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/reg.init.dat --reg /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/mri_coreg.lta --nthreads 4 --dof 6 --sep 4 --ftol .0001 --linmintol .01 --no-ref-mask 
sysname  Linux
hostname bc12102.int.ets1.calculquebec.ca
machine  x86_64
user     bpinsard
dof    6
nsep    1
cras0    1
ftol    0.000100
linmintol    0.010000
bf       1
bflim    30.000000
bfnsamp    30
SmoothRef 0
SatPct    99.990000
MovOOB 0
optschema 1
Seed 53
Reading in mov /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/template.nii
Reading in ref /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/brainmask.mgz
Setting cras translation parameters to align volume centers
Init matrix params -0.7984 -0.0326 -0.7944  0.0000  0.0000  0.0000  1.0000  1.0000  1.0000  0.0000  0.0000  0.0000 
Initial Matrix (RAS2RAS)
 1.00000   0.00000   0.00000   0.79836;
 0.00000   1.00000   0.00000   0.03259;
 0.00000   0.00000   1.00000   0.79438;
 0.00000   0.00000   0.00000   1.00000;
Initial parameters to be opt -0.7984 -0.0326 -0.7944  0.0000  0.0000  0.0000 
Creating random numbers for coordinate dithering
Performing intensity dithering
Performing intensity dithering on mov with computed dither
Separation list (1):  4   min = 4
DoSmoothing 1
DoCoordDither 1
DoIntensityDither 1
nitersmax 4
ftol 1.000e-04
linmintol 1.000e-02
SatPct 99.990000
Hist FWHM 7.000000 7.000000
nthreads 4
movsat = 7931.9233
mov gstd 1.9140 1.9140 1.9140
Smoothing mov
refsat = 133.0000
ref gstd 1.9140 1.9140 1.9140
Smoothing ref
COREGpreproc() done
Testing if mov and target overlap
Init cost   -1.0297837713
nhits = 309415 out of 32768000, Percent Overlap:  60.4
Initial  RefRAS-to-MovRAS
 1.00000   0.00000   0.00000  -0.79836;
 0.00000   1.00000   0.00000  -0.03259;
 0.00000   0.00000   1.00000  -0.79438;
 0.00000   0.00000   0.00000   1.00000;
Initial  RefVox-to-MovVox
-0.99999   0.00000   0.00000   262.99850;
 0.00000   0.00000   0.99999  -9.99909;
 0.00000  -0.99999   0.00000   318.99908;
 0.00000   0.00000   0.00000   1.00000;
sep = 4 -----------------------------------
COREGoptBruteForce() 30 1 30
Turning on MovOOB for BruteForce Search
#BF# sep= 4 iter=0 lim=30.0 delta=2.00  -0.79836  -0.03259   1.20562   0.00000   0.00000   0.00000   -1.0291981
Turning  MovOOB back off after brute force search


---------------------------------
Init Powel Params dof = 6: -0.798363 -0.032585 1.205620 0.000000 0.000000 0.000000 
Starting OpenPowel2(), sep = 4
InitialCost        -1.0301239491 
#@#  4  188  -0.79836 -0.03259 1.20562 0.00000 0.00000 0.00000   -1.0301239
fs_powell::minimize
  nparams 6
  maxfev 4
  ftol   0.000100
  linmin_xtol_   0.010000
  powell nthiter 0: fret = -1.030124
#@#  4  190  0.20164 -0.03259 1.20562 0.00000 0.00000 0.00000   -1.0302759
#@#  4  195  0.01065 -0.03259 1.20562 0.00000 0.00000 0.00000   -1.0302863
#@#  4  204  0.01065 -0.65062 1.20562 0.00000 0.00000 0.00000   -1.0302987
#@#  4  206  0.01065 -0.40675 1.20562 0.00000 0.00000 0.00000   -1.0303074
#@#  4  207  0.01065 -0.41675 1.20562 0.00000 0.00000 0.00000   -1.0303075
#@#  4  215  0.01065 -0.42675 1.58759 0.00000 0.00000 0.00000   -1.0303192
#@#  4  216  0.01065 -0.42675 1.60835 0.00000 0.00000 0.00000   -1.0303195
#@#  4  225  0.01065 -0.42675 1.61949 -0.61803 0.00000 0.00000   -1.0303693
#@#  4  227  0.01065 -0.42675 1.61949 -0.72390 0.00000 0.00000   -1.0303700
#@#  4  230  0.01065 -0.42675 1.61949 -0.76418 0.00000 0.00000   -1.0303701
#@#  4  231  0.01065 -0.42675 1.61949 -0.75418 0.00000 0.00000   -1.0303702
#@#  4  248  0.01065 -0.42675 1.61949 -0.75418 0.00000 0.09052   -1.0303706
  powell nthiter 1: fret = -1.030371
#@#  4  259  -0.00018 -0.42675 1.61949 -0.75418 0.00000 0.07785   -1.0303708
#@#  4  269  -0.01602 -0.54076 1.61949 -0.75418 0.00000 0.07785   -1.0303730
#@#  4  278  -0.01602 -0.55076 1.39650 -0.75418 0.00000 0.07785   -1.0303768
#@#  4  290  -0.01602 -0.55076 1.42781 -0.77207 0.00000 0.07785   -1.0303770
Powell done niters total = 1
OptTimeSec 17.8 sec
OptTimeMin  0.30 min
nEvals 312
Final optimized parameters  -0.01601697  -0.55075818   1.42780876  -0.77206725   0.01416930   0.07785029 
Final matrix parameters -0.0160 -0.5508  1.4278 -0.7721  0.0142  0.0679  1.0000  1.0000  1.0000  0.0000  0.0000  0.0000 
Final cost   -1.030377022520535
 

---------------------------------
Final  RefRAS-to-MovRAS
 1.00000   0.00136   0.00025  -0.01602;
-0.00136   0.99991  -0.01347  -0.55076;
-0.00027   0.01347   0.99991   1.42781;
 0.00000   0.00000   0.00000   1.00000;
Final  RefVox-to-MovVox
-0.99999  -0.00025   0.00136   263.83820;
 0.00136   0.01347   0.99990  -12.77334;
 0.00027  -0.99990   0.01347   320.00235;
 0.00000   0.00000   0.00000   1.00000;
Final matrix parameters -0.0160 -0.5508  1.4278 -0.7721  0.0142  0.0779  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000 
Final opt parameters -0.0160 -0.5508  1.4278 -0.7721  0.0142  0.0779 
nhits = 306258 out of 32768000, Percent Overlap:  59.8
mri_coreg RunTimeSec 123.0 sec
To check run:
   tkregisterfv --mov /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/template.nii --targ /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/brainmask.mgz --reg /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/mri_coreg.lta --s sub-02_ses-001 --surfs 

mri_coreg done

mri_segreg --mov /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/template.nii --init-reg /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/reg.init.dat --out-reg /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-abs 2 --gm-gt-wm 0.5
7.4.1
setenv SUBJECTS_DIR /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job
cd /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/scripts
mri_segreg --mov /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/template.nii --init-reg /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/reg.init.dat --out-reg /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-abs 2 --gm-gt-wm 0.5 
sysname  Linux
hostname bc12102.int.ets1.calculquebec.ca
machine  x86_64
user     bpinsard
movvol /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/template.nii
regfile /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/reg.init.dat
subject sub-02_ses-001
dof 6
outregfile /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/bbr.pass1.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 100
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjAbs 2.000000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000100
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1696779079
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-1.00000  -0.00136  -0.00025  -0.01415;
-0.00027   0.01347   0.99991   1.77293;
 0.00136  -0.99991   0.01347   0.33290;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
ExcludeZeroVoxels 1
Reading in targ vol /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/orig.mgz
Projecting LH Surfs
Loading lh.white surf
GM Proj: 0 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   0.958098
 1  -25.0 -25.0  25.0   0.963640
 2  -25.0  25.0 -25.0   0.945223
 3  -25.0  25.0  25.0   0.979472
 4   25.0 -25.0 -25.0   0.952874
 5   25.0 -25.0  25.0   0.960096
 6   25.0  25.0 -25.0   0.951536
 7   25.0  25.0  25.0   0.959669
REL:  8  0.187190    7.670609  0.958826 rel = 0.195228 
Initial costs ----------------
Number of surface hits 4356
WM  Intensity   831.3723 +/- 298.6165
Ctx Intensity  1253.3183 +/- 547.3296
Pct Contrast     37.1653 +/-  31.6237
Cost   0.1872
RelCost   0.1952

------------------------------------
Brute force preopt -4 4 4, n = 729
     0  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000      0.9424   0.9424  0.0
     1  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000   0.0000      0.9351   0.9351  0.0
     2  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000   4.0000      0.9291   0.9291  0.0
     6  -4.0000  -4.0000  -4.0000  -4.0000   4.0000  -4.0000      0.8818   0.8818  0.0
     7  -4.0000  -4.0000  -4.0000  -4.0000   4.0000   0.0000      0.8187   0.8187  0.0
    15  -4.0000  -4.0000  -4.0000   0.0000   4.0000  -4.0000      0.6983   0.6983  0.0
   120  -4.0000   0.0000   0.0000   0.0000   0.0000  -4.0000      0.6837   0.6837  0.0
   123  -4.0000   0.0000   0.0000   0.0000   4.0000  -4.0000      0.6429   0.6429  0.0
   274   0.0000  -4.0000   0.0000  -4.0000   0.0000   0.0000      0.5053   0.5053  0.0
   283   0.0000  -4.0000   0.0000   0.0000   0.0000   0.0000      0.3268   0.3268  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.1872   0.1872  0.0
Brute Force --------------------------
Min cost was 0.187190
Number of iterations   729
Search time 4.183315 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000100
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.187190
   7 -0.017  0.000  0.000  0.000  0.000  0.000   0.1870408184
   8 -0.150  0.000  0.000  0.000  0.000  0.000   0.1862520783
  11 -0.099  0.000  0.000  0.000  0.000  0.000   0.1859330760
  12 -0.104  0.000  0.000  0.000  0.000  0.000   0.1858754882
  13 -0.118  0.000  0.000  0.000  0.000  0.000   0.1857606315
  15 -0.120  0.000  0.000  0.000  0.000  0.000   0.1857534818
  16 -0.121  0.000  0.000  0.000  0.000  0.000   0.1857525112
  20 -0.121 -1.618  0.000  0.000  0.000  0.000   0.0540602571
  27 -0.121 -1.578  0.000  0.000  0.000  0.000   0.0535391880
  29 -0.121 -1.494  0.000  0.000  0.000  0.000   0.0534914185
  30 -0.121 -1.533  0.000  0.000  0.000  0.000   0.0534294401
  31 -0.121 -1.530  0.000  0.000  0.000  0.000   0.0534152644
  32 -0.121 -1.518  0.000  0.000  0.000  0.000   0.0533916180
  34 -0.121 -1.516  0.000  0.000  0.000  0.000   0.0533909723
  37 -0.121 -1.515  0.000  0.000  0.000  0.000   0.0533905828
  43 -0.121 -1.515 -0.618  0.000  0.000  0.000   0.0447533207
  45 -0.121 -1.515 -0.648  0.000  0.000  0.000   0.0446070633
  49 -0.121 -1.515 -0.647  0.000  0.000  0.000   0.0446066801
  57 -0.121 -1.515 -0.647 -0.097  0.000  0.000   0.0438367873
  59 -0.121 -1.515 -0.647 -0.107  0.000  0.000   0.0438116294
  60 -0.121 -1.515 -0.647 -0.115  0.000  0.000   0.0437873714
  61 -0.121 -1.515 -0.647 -0.132  0.000  0.000   0.0437780043
  62 -0.121 -1.515 -0.647 -0.126  0.000  0.000   0.0437625734
  71 -0.121 -1.515 -0.647 -0.126  0.091  0.000   0.0429223484
  73 -0.121 -1.515 -0.647 -0.126  0.069  0.000   0.0423920672
  77 -0.121 -1.515 -0.647 -0.126  0.071  0.000   0.0423872375
  87 -0.121 -1.515 -0.647 -0.126  0.071 -0.001   0.0423829499
  88 -0.121 -1.515 -0.647 -0.126  0.071 -0.007   0.0423744146
  90 -0.121 -1.515 -0.647 -0.126  0.071 -0.006   0.0423736268
  99 -0.136 -1.694 -0.723 -0.141  0.079 -0.006   0.0417162853
 103 -0.137 -1.706 -0.728 -0.142  0.079 -0.007   0.0417129688
 104 -0.136 -1.702 -0.726 -0.142  0.079 -0.006   0.0417105008
  powell nthiter 1: fret = 0.041710
 112  0.246 -1.702 -0.726 -0.142  0.079 -0.006   0.0399134695
 117  0.259 -1.702 -0.726 -0.142  0.079 -0.006   0.0398854215
 120  0.255 -1.702 -0.726 -0.142  0.079 -0.006   0.0398822319
 131  0.255 -1.702 -0.726 -0.142  0.079 -0.024   0.0398624946
 132  0.255 -1.702 -0.726 -0.142  0.079 -0.021   0.0398622382
 134  0.255 -1.702 -0.726 -0.142  0.079 -0.022   0.0398621584
 141  0.255 -1.702 -0.653 -0.142  0.079 -0.022   0.0383433900
 143  0.255 -1.702 -0.650 -0.142  0.079 -0.022   0.0383264250
 144  0.255 -1.702 -0.642 -0.142  0.079 -0.022   0.0383171608
 146  0.255 -1.702 -0.645 -0.142  0.079 -0.022   0.0383124213
 157  0.255 -1.702 -0.645 -0.203  0.079 -0.022   0.0381051481
 161  0.255 -1.702 -0.645 -0.228  0.079 -0.022   0.0380521284
 163  0.255 -1.702 -0.645 -0.220  0.079 -0.022   0.0380449871
 165  0.255 -1.702 -0.645 -0.223  0.079 -0.022   0.0380436627
 166  0.255 -1.702 -0.645 -0.222  0.079 -0.022   0.0380436110
 174  0.255 -1.702 -0.645 -0.222  0.007 -0.022   0.0379257672
 175  0.255 -1.702 -0.645 -0.222  0.009 -0.022   0.0379192271
 176  0.255 -1.702 -0.645 -0.222  0.032 -0.022   0.0378654418
 178  0.255 -1.702 -0.645 -0.222  0.030 -0.022   0.0378638915
 179  0.255 -1.702 -0.645 -0.222  0.028 -0.022   0.0378636192
 190  0.255 -1.713 -0.650 -0.223  0.029 -0.022   0.0377633444
 191  0.251 -1.754 -0.667 -0.226  0.030 -0.022   0.0375974742
 193  0.252 -1.741 -0.662 -0.225  0.030 -0.022   0.0375691174
 195  0.252 -1.744 -0.663 -0.225  0.030 -0.022   0.0375670171
  powell nthiter 2: fret = 0.037567
 206  0.259 -1.744 -0.663 -0.225  0.030 -0.022   0.0375623822
 217  0.259 -1.744 -0.663 -0.225  0.030 -0.001   0.0375245013
 218  0.259 -1.744 -0.663 -0.225  0.030 -0.000   0.0375239325
 219  0.259 -1.744 -0.663 -0.225  0.030  0.004   0.0375235097
 221  0.259 -1.744 -0.663 -0.225  0.030  0.002   0.0375233414
 222  0.259 -1.744 -0.663 -0.225  0.030  0.001   0.0375233044
 230  0.259 -1.744 -0.590 -0.225  0.030  0.001   0.0372749152
 235  0.259 -1.744 -0.595 -0.225  0.030  0.001   0.0372745573
 236  0.259 -1.744 -0.593 -0.225  0.030  0.001   0.0372729473
 247  0.259 -1.744 -0.593 -0.254  0.030  0.001   0.0372725082
 248  0.259 -1.744 -0.593 -0.240  0.030  0.001   0.0372316617
 260  0.259 -1.744 -0.593 -0.240  0.012  0.001   0.0371559686
 261  0.259 -1.744 -0.593 -0.240  0.011  0.001   0.0371558234
 274  0.259 -1.741 -0.591 -0.240  0.011  0.001   0.0371554162
 277  0.259 -1.742 -0.592 -0.240  0.011  0.001   0.0371549982
  powell nthiter 3: fret = 0.037155
 288  0.255 -1.742 -0.592 -0.240  0.011  0.001   0.0371532621
 299  0.255 -1.742 -0.592 -0.240  0.011 -0.005   0.0371529330
 300  0.255 -1.742 -0.592 -0.240  0.011 -0.002   0.0371523258
 310  0.255 -1.742 -0.583 -0.240  0.011 -0.002   0.0371514579
 311  0.255 -1.742 -0.587 -0.240  0.011 -0.002   0.0371496048
 322  0.255 -1.742 -0.587 -0.245  0.011 -0.002   0.0371406925
 323  0.255 -1.742 -0.587 -0.249  0.011 -0.002   0.0371382649
 335  0.255 -1.742 -0.587 -0.249  0.009 -0.002   0.0371379615
 348  0.255 -1.744 -0.588 -0.249  0.009 -0.002   0.0371367832
  powell nthiter 4: fret = 0.037137
 360  0.258 -1.744 -0.588 -0.249  0.009 -0.002   0.0371362614
 361  0.257 -1.744 -0.588 -0.249  0.009 -0.002   0.0371362525
 371  0.257 -1.744 -0.588 -0.249  0.009 -0.001   0.0371360595
 382  0.257 -1.744 -0.592 -0.249  0.009 -0.001   0.0371354603
 384  0.257 -1.744 -0.590 -0.249  0.009 -0.001   0.0371353084
 395  0.257 -1.744 -0.590 -0.252  0.009 -0.001   0.0371340630
 407  0.257 -1.744 -0.590 -0.252  0.008 -0.001   0.0371339901
Powell done niters = 4
Computing relative cost
 0  -25.0 -25.0 -25.0   0.957231
 1  -25.0 -25.0  25.0   0.953165
 2  -25.0  25.0 -25.0   0.963598
 3  -25.0  25.0  25.0   0.974771
 4   25.0 -25.0 -25.0   0.945431
 5   25.0 -25.0  25.0   0.945361
 6   25.0  25.0 -25.0   0.968642
 7   25.0  25.0  25.0   0.933516
REL:  8  0.037134    7.641715  0.955214 rel = 0.038875 
Number of iterations     4
Min cost was 0.037134
Number of FunctionCalls   422
TolPowell 0.000100
nMaxItersPowell 36
OptimizationTime 2.403769 sec
Parameters at optimum (transmm)  0.25664 -1.74358 -0.59037
Parameters at optimum (rotdeg) -0.25157  0.00832 -0.00051 
Final costs ----------------
Number of surface hits 4356
WM  Intensity   766.5928 +/- 254.7902
Ctx Intensity  1224.0260 +/- 413.5370
Pct Contrast     45.2747 +/-  24.0794
Cost   0.0371
RelCost   0.1952
Reg at min cost was 
-1.00000  -0.00150  -0.00024   0.24255;
-0.00025   0.00908   0.99996   0.03080;
 0.00150  -0.99996   0.00908  -0.26526;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/bbr.pass1.dat, type = 14 
Original Reg 
-1.00000  -0.00136  -0.00025  -0.01415;
-0.00027   0.01347   0.99991   1.77293;
 0.00136  -0.99991   0.01347   0.33290;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
-0.00000   0.00015  -0.00001  -0.25670;
-0.00001   0.00439  -0.00005   1.74213;
-0.00015   0.00005   0.00439   0.59816;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 1.752071
Computing change in rh position
Surface-RMS-Diff-mm 1.766634 0.175388 2.149470
mri_segreg done
mri_segreg --mov /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/template.nii --init-reg /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/bbr.pass1.dat --out-reg /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/T2raw.auto.dat --interp trilinear --wm-proj-abs 1 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/T2raw.auto.dat.mincost --dof 6 --nmax 36 --param /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/T2raw.auto.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/reg.curopt.dat --gm-proj-abs 2 --nsub 1 --gm-gt-wm 0.5
7.4.1
setenv SUBJECTS_DIR /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job
cd /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/scripts
mri_segreg --mov /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/template.nii --init-reg /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/bbr.pass1.dat --out-reg /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/T2raw.auto.dat --interp trilinear --wm-proj-abs 1 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/T2raw.auto.dat.mincost --dof 6 --nmax 36 --param /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/T2raw.auto.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/reg.curopt.dat --gm-proj-abs 2 --nsub 1 --gm-gt-wm 0.5 
sysname  Linux
hostname bc12102.int.ets1.calculquebec.ca
machine  x86_64
user     bpinsard
movvol /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/template.nii
regfile /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/tmp.bbregister.69145/bbr.pass1.dat
subject sub-02_ses-001
dof 6
outregfile /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/T2raw.auto.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 1
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjAbs 2.000000
WMProjAbs 1.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000000
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1697641949
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-1.00000  -0.00150  -0.00024   0.24255;
-0.00025   0.00908   0.99996   0.03080;
 0.00150  -0.99996   0.00908  -0.26526;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
ExcludeZeroVoxels 1
Reading in targ vol /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/orig.mgz
Projecting LH Surfs
Loading lh.white surf
GM Proj: 0 0.500000 2.000000
WM Proj: 0 0.500000 1.000000
Projecting RH Surfs
Loading rh.white surf
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   0.954763
 1  -25.0 -25.0  25.0   0.966305
 2  -25.0  25.0 -25.0   0.965061
 3  -25.0  25.0  25.0   0.974242
 4   25.0 -25.0 -25.0   0.932642
 5   25.0 -25.0  25.0   0.949936
 6   25.0  25.0 -25.0   0.955536
 7   25.0  25.0  25.0   0.945216
REL:  8  0.033135    7.643702  0.955463 rel = 0.0346796 
Initial costs ----------------
Number of surface hits 434181
WM  Intensity   767.0655 +/- 252.3489
Ctx Intensity  1227.1654 +/- 415.0010
Pct Contrast     45.3168 +/-  22.3455
Cost   0.0331
RelCost   0.0347

------------------------------------
Brute force preopt -0.1 0.1 0.1, n = 729
     0  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000      0.0337   0.0337  0.0
     1  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000   0.0000      0.0329   0.0329  0.0
     2  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000   0.1000      0.0323   0.0323  0.0
     3  -0.1000  -0.1000  -0.1000  -0.1000   0.0000  -0.1000      0.0318   0.0318  0.0
     4  -0.1000  -0.1000  -0.1000  -0.1000   0.0000   0.0000      0.0311   0.0311  0.0
     5  -0.1000  -0.1000  -0.1000  -0.1000   0.0000   0.1000      0.0302   0.0302  0.0
     6  -0.1000  -0.1000  -0.1000  -0.1000   0.1000  -0.1000      0.0296   0.0296  0.0
    87  -0.1000   0.0000  -0.1000  -0.1000   0.1000  -0.1000      0.0294   0.0294  0.0
    88  -0.1000   0.0000  -0.1000  -0.1000   0.1000   0.0000      0.0291   0.0291  0.0
Brute Force --------------------------
Min cost was 0.029055
Number of iterations   729
Search time 4.127803 sec
Parameters at best (transmm, rotdeg)
 -0.100   0.000  -0.100 -0.100  0.100  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 -0.1
1 0
2 -0.1
3 -0.1
4 0.1
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000000
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.033243
   7 -0.317  0.000 -0.100 -0.100  0.100  0.000   0.0324062591
   9 -0.287  0.000 -0.100 -0.100  0.100  0.000   0.0324021067
  11 -0.301  0.000 -0.100 -0.100  0.100  0.000   0.0323945525
  20 -0.301 -0.100 -0.100 -0.100  0.100  0.000   0.0322051659
  23 -0.301 -0.101 -0.100 -0.100  0.100  0.000   0.0322051457
  31 -0.301 -0.101 -0.146 -0.100  0.100  0.000   0.0320996587
  33 -0.301 -0.101 -0.188 -0.100  0.100  0.000   0.0320197990
  34 -0.301 -0.101 -0.199 -0.100  0.100  0.000   0.0320093821
  36 -0.301 -0.101 -0.204 -0.100  0.100  0.000   0.0320070878
  37 -0.301 -0.101 -0.205 -0.100  0.100  0.000   0.0320070414
  45 -0.301 -0.101 -0.205 -0.013  0.100  0.000   0.0319423678
  46 -0.301 -0.101 -0.205 -0.037  0.100  0.000   0.0319241472
  48 -0.301 -0.101 -0.205 -0.036  0.100  0.000   0.0319239937
  50 -0.301 -0.101 -0.205 -0.034  0.100  0.000   0.0319238959
  58 -0.301 -0.101 -0.205 -0.034  0.057  0.000   0.0318370987
  59 -0.301 -0.101 -0.205 -0.034  0.021  0.000   0.0317985857
  62 -0.301 -0.101 -0.205 -0.034  0.023  0.000   0.0317972081
  64 -0.301 -0.101 -0.205 -0.034  0.028  0.000   0.0317970877
  65 -0.301 -0.101 -0.205 -0.034  0.026  0.000   0.0317967512
  73 -0.301 -0.101 -0.205 -0.034  0.026 -0.001   0.0317961050
  74 -0.301 -0.101 -0.205 -0.034  0.026 -0.073   0.0317912855
  76 -0.301 -0.101 -0.205 -0.034  0.026 -0.041   0.0317818281
  78 -0.301 -0.101 -0.205 -0.034  0.026 -0.049   0.0317796815
  powell nthiter 1: fret = 0.031780
  91 -0.302 -0.101 -0.205 -0.034  0.026 -0.049   0.0317775861
  92 -0.313 -0.101 -0.205 -0.034  0.026 -0.049   0.0317675098
  94 -0.319 -0.101 -0.205 -0.034  0.026 -0.049   0.0317645271
  95 -0.320 -0.101 -0.205 -0.034  0.026 -0.049   0.0317644419
 106 -0.320 -0.095 -0.205 -0.034  0.026 -0.049   0.0317620628
 117 -0.320 -0.095 -0.203 -0.034  0.026 -0.049   0.0317591646
 118 -0.320 -0.095 -0.196 -0.034  0.026 -0.049   0.0317568152
 120 -0.320 -0.095 -0.198 -0.034  0.026 -0.049   0.0317561915
 131 -0.320 -0.095 -0.198 -0.036  0.026 -0.049   0.0317559055
 132 -0.320 -0.095 -0.198 -0.037  0.026 -0.049   0.0317559038
 141 -0.320 -0.095 -0.198 -0.037  0.027 -0.049   0.0317545621
 142 -0.320 -0.095 -0.198 -0.037  0.038 -0.049   0.0317490514
 144 -0.320 -0.095 -0.198 -0.037  0.039 -0.049   0.0317487892
 145 -0.320 -0.095 -0.198 -0.037  0.040 -0.049   0.0317486836
 157 -0.320 -0.095 -0.198 -0.037  0.040 -0.047   0.0317485697
  powell nthiter 2: fret = 0.031749
 170 -0.322 -0.095 -0.198 -0.037  0.040 -0.047   0.0317479043
 180 -0.322 -0.093 -0.198 -0.037  0.040 -0.047   0.0317471451
 182 -0.322 -0.092 -0.198 -0.037  0.040 -0.047   0.0317470813
 193 -0.322 -0.092 -0.195 -0.037  0.040 -0.047   0.0317461802
 205 -0.322 -0.092 -0.195 -0.039  0.040 -0.047   0.0317460966
 208 -0.322 -0.092 -0.195 -0.038  0.040 -0.047   0.0317460554
 217 -0.322 -0.092 -0.195 -0.038  0.041 -0.047   0.0317456654
 218 -0.322 -0.092 -0.195 -0.038  0.043 -0.047   0.0317454864
  powell nthiter 3: fret = 0.031745
 243 -0.323 -0.092 -0.195 -0.038  0.043 -0.047   0.0317453949
 309 -0.323 -0.092 -0.195 -0.038  0.043 -0.047   0.0317453941
  powell nthiter 4: fret = 0.031745
 376 -0.323 -0.092 -0.195 -0.038  0.043 -0.047   0.0317453930
Powell done niters = 4
Computing relative cost
 0  -25.0 -25.0 -25.0   0.954594
 1  -25.0 -25.0  25.0   0.965660
 2  -25.0  25.0 -25.0   0.962198
 3  -25.0  25.0  25.0   0.969144
 4   25.0 -25.0 -25.0   0.932320
 5   25.0 -25.0  25.0   0.949720
 6   25.0  25.0 -25.0   0.956565
 7   25.0  25.0  25.0   0.943247
REL:  8  0.031745    7.633449  0.954181 rel = 0.0332698 
Number of iterations     4
Min cost was 0.031745
Number of FunctionCalls   385
TolPowell 0.000000
nMaxItersPowell 36
OptimizationTime 64.499812 sec
Parameters at optimum (transmm) -0.32337 -0.09153 -0.19464
Parameters at optimum (rotdeg) -0.03802  0.04273 -0.04703 
Final costs ----------------
Number of surface hits 434181
WM  Intensity   766.2265 +/- 250.0009
Ctx Intensity  1225.0545 +/- 414.6930
Pct Contrast     45.2128 +/-  21.9640
Cost   0.0317
RelCost   0.0347
Reg at min cost was 
-1.00000  -0.00224   0.00059  -0.08100;
 0.00057   0.00842   0.99996  -0.06110;
 0.00225  -0.99996   0.00842  -0.46009;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/T2raw.auto.dat, type = 14 
Original Reg 
-1.00000  -0.00150  -0.00024   0.24255;
-0.00025   0.00908   0.99996   0.03080;
 0.00150  -0.99996   0.00908  -0.26526;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
-0.00000   0.00074  -0.00083   0.32355;
-0.00082   0.00066  -0.00001   0.09190;
-0.00075   0.00000   0.00066   0.19484;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.380819
Computing change in rh position
Surface-RMS-Diff-mm 0.366992 0.032480 0.444861
mri_segreg done
MinCost: 0.031745 766.226476 1225.054483 45.212830 
tkregister2_cmdl --mov /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/orig/T2raw.mgz --reg /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/T2raw.auto.dat --noedit --ltaout /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/T2raw.auto.lta
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/orig/T2raw.mgz
reg file       /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/T2raw.auto.dat
LoadVol        0
ZeroCRAS       0
7.4.1
Diagnostic Level -1
---- Input registration matrix --------
-1.00000  -0.00224   0.00059  -0.08100;
 0.00057   0.00842   0.99996  -0.06110;
 0.00225  -0.99996   0.00842  -0.46009;
 0.00000   0.00000   0.00000   1.00000;
float2int = 0
---------------------------------------
INFO: loading target /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/orig.mgz
INFO: target does not conform to COR format, so I'm going to
reslice to COR. This will not affect the final registration.
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/orig/T2raw.mgz
Tmov: --------------------
-0.80000   0.00000   0.00000   83.20032;
 0.00000   0.00000   0.80000  -128.00000;
 0.00000  -0.80000   0.00000   120.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
---- Input registration matrix --------
-1.00000  -0.00224   0.00059  -0.08101;
 0.00057   0.00842   0.99996  -0.06108;
 0.00225  -0.99996   0.00842  -0.46008;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = sub-02_ses-001
RegMat ---------------------------
-1.00000  -0.00224   0.00059  -0.08100;
 0.00057   0.00842   0.99996  -0.06110;
 0.00225  -0.99996   0.00842  -0.46009;
 0.00000   0.00000   0.00000   1.00000;
Cleaning up
 
Started at Sun Oct 8 03:42:44 UTC 2023 
Ended   at Sun Oct  8 03:46:25 UTC 2023
BBR-Run-Time-Sec 221
 
bbregister Done
To check results, run:
tkregisterfv --mov /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/orig/T2raw.mgz --reg /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job/sub-02_ses-001/mri/transforms/T2raw.auto.lta --surfs  --sd /localscratch/bpinsard.41451837.0/freesurfer_crosssectional_autorecon3_sub02_ses001.job
