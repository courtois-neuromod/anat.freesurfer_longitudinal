Logfile for bbregister
Sun Oct  8 06:28:46 UTC 2023

setenv SUBJECTS_DIR /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job
cd /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/scripts
/opt/freesurfer/bin/bbregister --s sub-05_ses-007 --mov /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/orig/T2raw.mgz --lta /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/T2raw.auto.lta --init-coreg --T2 --gm-proj-abs 2 --wm-proj-abs 1 --no-coreg-ref-mask

bbregister 7.4.1
Linux bc12215.int.ets1.calculquebec.ca 3.10.0-1160.90.1.el7.x86_64 #1 SMP Thu May 4 15:21:22 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux
FREESURFER_HOME /opt/freesurfer
mri_convert /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/orig/T2raw.mgz /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/template.nii
mri_convert /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/orig/T2raw.mgz /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/template.nii 
reading from /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/orig/T2raw.mgz...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (1, 0, 0)
j_ras = (0, 1, 0)
k_ras = (0, 0, 1)
writing to /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/template.nii...
mri_coreg --s sub-05_ses-007 --mov /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/template.nii --regdat /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/reg.init.dat --reg /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/mri_coreg.lta --nthreads 4 --dof 6 --sep 4 --ftol .0001 --linmintol .01 --no-ref-mask

$Id: mri_coreg.c,v 1.27 2016/04/30 15:11:49 greve Exp $
cwd /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/scripts
cmdline mri_coreg --s sub-05_ses-007 --mov /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/template.nii --regdat /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/reg.init.dat --reg /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/mri_coreg.lta --nthreads 4 --dof 6 --sep 4 --ftol .0001 --linmintol .01 --no-ref-mask 
sysname  Linux
hostname bc12215.int.ets1.calculquebec.ca
machine  x86_64
user     bpinsard
dof    6
nsep    1
cras0    1
ftol    0.000100
linmintol    0.010000
bf       1
bflim    30.000000
bfnsamp    30
SmoothRef 0
SatPct    99.990000
MovOOB 0
optschema 1
Seed 53
Reading in mov /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/template.nii
Reading in ref /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/brainmask.mgz
Setting cras translation parameters to align volume centers
Init matrix params -0.8000 -0.0000 -0.8000  0.0000  0.0000  0.0000  1.0000  1.0000  1.0000  0.0000  0.0000  0.0000 
Initial Matrix (RAS2RAS)
 1.00000   0.00000   0.00000   0.79999;
 0.00000   1.00000   0.00000   0.00001;
 0.00000   0.00000   1.00000   0.80000;
 0.00000   0.00000   0.00000   1.00000;
Initial parameters to be opt -0.8000 -0.0000 -0.8000  0.0000  0.0000  0.0000 
Creating random numbers for coordinate dithering
Performing intensity dithering
Performing intensity dithering on mov with computed dither
Separation list (1):  4   min = 4
DoSmoothing 1
DoCoordDither 1
DoIntensityDither 1
nitersmax 4
ftol 1.000e-04
linmintol 1.000e-02
SatPct 99.990000
Hist FWHM 7.000000 7.000000
nthreads 4
movsat = 4728.5972
mov gstd 1.9140 1.9140 1.9140
Smoothing mov
refsat = 136.0000
ref gstd 1.9140 1.9140 1.9140
Smoothing ref
COREGpreproc() done
Testing if mov and target overlap
Init cost   -1.0283111685
nhits = 309411 out of 32768000, Percent Overlap:  60.4
Initial  RefRAS-to-MovRAS
 1.00000   0.00000   0.00000  -0.79999;
 0.00000   1.00000   0.00000  -0.00001;
 0.00000   0.00000   1.00000  -0.80000;
 0.00000   0.00000   0.00000   1.00000;
Initial  RefVox-to-MovVox
-1.00000   0.00000   0.00000   263.00003;
 0.00000   0.00000   0.99999  -9.99909;
 0.00000  -0.99999   0.00000   318.99908;
 0.00000   0.00000   0.00000   1.00000;
sep = 4 -----------------------------------
COREGoptBruteForce() 30 1 30
Turning on MovOOB for BruteForce Search
#BF# sep= 4 iter=0 lim=30.0 delta=2.00  -0.79999  -0.00001  17.20000   4.00000   0.00000   0.00000   -1.0282658
Turning  MovOOB back off after brute force search


---------------------------------
Init Powel Params dof = 6: -0.799988 -0.000008 17.200005 4.000000 0.000000 0.000000 
Starting OpenPowel2(), sep = 4
InitialCost        -1.0301970243 
#@#  4  188  -0.79999 -0.00001 17.20000 4.00000 0.00000 0.00000   -1.0301970
fs_powell::minimize
  nparams 6
  maxfev 4
  ftol   0.000100
  linmin_xtol_   0.010000
  powell nthiter 0: fret = -1.030197
#@#  4  194  -0.41802 -0.00001 17.20000 4.00000 0.00000 0.00000   -1.0302025
#@#  4  195  -0.34237 -0.00001 17.20000 4.00000 0.00000 0.00000   -1.0302027
#@#  4  201  -0.34237 -1.61804 17.20000 4.00000 0.00000 0.00000   -1.0302601
#@#  4  202  -0.34237 -5.94780 17.20000 4.00000 0.00000 0.00000   -1.0303687
#@#  4  216  -0.34237 -5.92780 18.20000 4.00000 0.00000 0.00000   -1.0303961
#@#  4  221  -0.34237 -5.92780 18.06931 4.00000 0.00000 0.00000   -1.0303963
#@#  4  223  -0.34237 -5.92780 18.09831 4.00000 0.00000 0.00000   -1.0303965
#@#  4  240  -0.34237 -5.92780 18.12273 4.01415 -1.61803 0.00000   -1.0304078
#@#  4  241  -0.34237 -5.92780 18.12273 4.01415 -1.44796 0.00000   -1.0304097
#@#  4  244  -0.34237 -5.92780 18.12273 4.01415 -1.23671 0.00000   -1.0304105
#@#  4  245  -0.34237 -5.92780 18.12273 4.01415 -1.21866 0.00000   -1.0304106
  powell nthiter 1: fret = -1.030411
#@#  4  268  -0.96040 -5.92780 18.12273 4.01415 -1.19866 0.01722   -1.0304108
#@#  4  270  -0.65434 -5.92780 18.12273 4.01415 -1.19866 0.01722   -1.0304130
#@#  4  272  -0.67434 -5.92780 18.12273 4.01415 -1.19866 0.01722   -1.0304132
#@#  4  278  -0.70021 -4.92780 18.12273 4.01415 -1.19866 0.01722   -1.0304203
#@#  4  282  -0.70021 -5.30977 18.12273 4.01415 -1.19866 0.01722   -1.0304247
#@#  4  297  -0.70021 -5.27959 18.24985 4.01415 -1.19866 0.01722   -1.0304250
#@#  4  299  -0.70021 -5.27959 18.20573 4.01415 -1.19866 0.01722   -1.0304251
#@#  4  308  -0.70021 -5.27959 18.16403 4.39611 -1.19866 0.01722   -1.0304270
Powell done niters total = 1
OptTimeSec 22.1 sec
OptTimeMin  0.37 min
nEvals 335
Final optimized parameters  -0.70020556  -5.27959490  18.16403008   4.36542177  -1.19866371  -0.02514548 
Final matrix parameters -0.7002 -5.2796 18.1640  4.3654 -1.1987 -0.0434  1.0000  1.0000  1.0000  0.0000  0.0000  0.0000 
Final cost   -1.030427014622551
 

---------------------------------
Final  RefRAS-to-MovRAS
 0.99978  -0.00044  -0.02092  -0.70021;
 0.00203   0.99710   0.07610  -5.27959;
 0.02083  -0.07613   0.99688   18.16403;
 0.00000   0.00000   0.00000   1.00000;
Final  RefVox-to-MovVox
-0.99978   0.02092  -0.00044   259.67697;
-0.00203  -0.07610   0.99709  -3.25471;
-0.02082  -0.99687  -0.07613   355.74155;
 0.00000   0.00000   0.00000   1.00000;
Final matrix parameters -0.7002 -5.2796 18.1640  4.3654 -1.1987 -0.0251  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000 
Final opt parameters -0.7002 -5.2796 18.1640  4.3654 -1.1987 -0.0251 
nhits = 288064 out of 32768000, Percent Overlap:  56.3
mri_coreg RunTimeSec 137.5 sec
To check run:
   tkregisterfv --mov /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/template.nii --targ /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/brainmask.mgz --reg /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/mri_coreg.lta --s sub-05_ses-007 --surfs 

mri_coreg done

mri_segreg --mov /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/template.nii --init-reg /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/reg.init.dat --out-reg /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-abs 2 --gm-gt-wm 0.5
7.4.1
setenv SUBJECTS_DIR /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job
cd /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/scripts
mri_segreg --mov /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/template.nii --init-reg /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/reg.init.dat --out-reg /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-abs 2 --gm-gt-wm 0.5 
sysname  Linux
hostname bc12215.int.ets1.calculquebec.ca
machine  x86_64
user     bpinsard
movvol /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/template.nii
regfile /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/reg.init.dat
subject sub-05_ses-007
dof 6
outregfile /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/bbr.pass1.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 100
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjAbs 2.000000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000100
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1697106330
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99978   0.00044   0.02092   0.80891;
 0.02083  -0.07613   0.99688   16.58348;
-0.00203  -0.99710  -0.07610   4.97656;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
ExcludeZeroVoxels 1
Reading in targ vol /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/orig.mgz
Projecting LH Surfs
Loading lh.white surf
GM Proj: 0 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   0.974385
 1  -25.0 -25.0  25.0   1.042063
 2  -25.0  25.0 -25.0   1.018723
 3  -25.0  25.0  25.0   1.023847
 4   25.0 -25.0 -25.0   1.012931
 5   25.0 -25.0  25.0   0.994990
 6   25.0  25.0 -25.0   0.991689
 7   25.0  25.0  25.0   0.977710
REL:  8  0.949213    8.036340  1.004543 rel = 0.94492 
Initial costs ----------------
Number of surface hits 4289
WM  Intensity  1123.2365 +/- 666.2823
Ctx Intensity  1130.7825 +/- 669.2322
Pct Contrast      0.5785 +/-  52.6799
Cost   0.9492
RelCost   0.9449

------------------------------------
Brute force preopt -4 4 4, n = 729
     0  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000      0.9710   0.9710  0.0
     4  -4.0000  -4.0000  -4.0000  -4.0000   0.0000   0.0000      0.9702   0.9702  0.0
     5  -4.0000  -4.0000  -4.0000  -4.0000   0.0000   4.0000      0.9458   0.9458  0.0
    20  -4.0000  -4.0000  -4.0000   4.0000  -4.0000   4.0000      0.9387   0.9387  0.0
    23  -4.0000  -4.0000  -4.0000   4.0000   0.0000   4.0000      0.9173   0.9173  0.0
    36  -4.0000  -4.0000   0.0000   0.0000  -4.0000  -4.0000      0.9056   0.9056  0.0
Brute Force --------------------------
Min cost was 0.905551
Number of iterations   729
Search time 4.207483 sec
Parameters at best (transmm, rotdeg)
 -4.000  -4.000   0.000  0.000 -4.000 -4.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 -4
1 -4
2 0
3 0
4 -4
5 -4
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000100
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.905551
   5 -4.618 -4.000  0.000  0.000 -4.000 -4.000   0.9054012729
   7 -4.312 -4.000  0.000  0.000 -4.000 -4.000   0.9019396447
  11 -4.296 -4.000  0.000  0.000 -4.000 -4.000   0.9018633695
  12 -4.303 -4.000  0.000  0.000 -4.000 -4.000   0.9017495443
  16 -4.303 -3.000  0.000  0.000 -4.000 -4.000   0.9013713652
  20 -4.303 -3.382  0.000  0.000 -4.000 -4.000   0.9007590061
  21 -4.303 -3.219  0.000  0.000 -4.000 -4.000   0.8981015801
  24 -4.303 -3.213  0.000  0.000 -4.000 -4.000   0.8980549594
  31 -4.303 -3.213 -0.618  0.000 -4.000 -4.000   0.8947211128
  34 -4.303 -3.213 -0.382  0.000 -4.000 -4.000   0.8923550325
  37 -4.303 -3.213 -0.320  0.000 -4.000 -4.000   0.8913356682
  39 -4.303 -3.213 -0.331  0.000 -4.000 -4.000   0.8912172258
  41 -4.303 -3.213 -0.334  0.000 -4.000 -4.000   0.8911815091
  42 -4.303 -3.213 -0.336  0.000 -4.000 -4.000   0.8911637852
  44 -4.303 -3.213 -0.337  0.000 -4.000 -4.000   0.8911610434
  54 -4.303 -3.213 -0.337 -0.069 -4.000 -4.000   0.8901709114
  58 -4.303 -3.213 -0.337 -0.071 -4.000 -4.000   0.8901530146
  61 -4.303 -3.213 -0.337 -0.072 -4.000 -4.000   0.8901523385
  68 -4.303 -3.213 -0.337 -0.072 -3.618 -4.000   0.8837289472
  71 -4.303 -3.213 -0.337 -0.072 -3.546 -4.000   0.8827956701
  73 -4.303 -3.213 -0.337 -0.072 -3.500 -4.000   0.8823054838
  74 -4.303 -3.213 -0.337 -0.072 -3.517 -4.000   0.8821246589
  75 -4.303 -3.213 -0.337 -0.072 -3.515 -4.000   0.8821152529
  76 -4.303 -3.213 -0.337 -0.072 -3.514 -4.000   0.8821121927
  85 -4.303 -3.213 -0.337 -0.072 -3.514 -4.028   0.8814184596
  86 -4.303 -3.213 -0.337 -0.072 -3.514 -4.046   0.8814026760
  87 -4.303 -3.213 -0.337 -0.072 -3.514 -4.038   0.8814009282
  88 -4.303 -3.213 -0.337 -0.072 -3.514 -4.041   0.8813905170
  powell nthiter 1: fret = 0.881391
  98 -4.566 -3.213 -0.337 -0.072 -3.514 -4.041   0.8799825060
  99 -4.536 -3.213 -0.337 -0.072 -3.514 -4.041   0.8793514457
 100 -4.458 -3.213 -0.337 -0.072 -3.514 -4.041   0.8780814882
 102 -4.473 -3.213 -0.337 -0.072 -3.514 -4.041   0.8779060561
 103 -4.479 -3.213 -0.337 -0.072 -3.514 -4.041   0.8777711265
 105 -4.488 -3.213 -0.337 -0.072 -3.514 -4.041   0.8775856346
 107 -4.487 -3.213 -0.337 -0.072 -3.514 -4.041   0.8775842985
 118 -4.487 -3.200 -0.337 -0.072 -3.514 -4.041   0.8774790960
 119 -4.487 -3.198 -0.337 -0.072 -3.514 -4.041   0.8774333999
 124 -4.487 -3.197 -0.337 -0.072 -3.514 -4.041   0.8774271252
 131 -4.487 -3.197 -0.393 -0.072 -3.514 -4.041   0.8760514923
 134 -4.487 -3.197 -0.377 -0.072 -3.514 -4.041   0.8760400419
 136 -4.487 -3.197 -0.385 -0.072 -3.514 -4.041   0.8759537897
 151 -4.487 -3.197 -0.385 -0.077 -3.514 -4.041   0.8758325277
 165 -4.487 -3.197 -0.385 -0.077 -3.530 -4.041   0.8757598727
 166 -4.487 -3.197 -0.385 -0.077 -3.524 -4.041   0.8755577728
 167 -4.487 -3.197 -0.385 -0.077 -3.522 -4.041   0.8755322167
 168 -4.487 -3.197 -0.385 -0.077 -3.521 -4.041   0.8755319131
 182 -4.487 -3.197 -0.385 -0.077 -3.521 -4.042   0.8755295299
  powell nthiter 2: fret = 0.875530
 197 -4.486 -3.197 -0.385 -0.077 -3.521 -4.042   0.8755286429
 210 -4.486 -3.201 -0.385 -0.077 -3.521 -4.042   0.8754117117
 223 -4.486 -3.201 -0.388 -0.077 -3.521 -4.042   0.8754093027
 225 -4.486 -3.201 -0.387 -0.077 -3.521 -4.042   0.8754075586
 236 -4.486 -3.201 -0.387 -0.083 -3.521 -4.042   0.8753401839
 237 -4.486 -3.201 -0.387 -0.082 -3.521 -4.042   0.8753279225
 238 -4.486 -3.201 -0.387 -0.081 -3.521 -4.042   0.8753245600
 251 -4.486 -3.201 -0.387 -0.081 -3.527 -4.042   0.8752354211
 252 -4.486 -3.201 -0.387 -0.081 -3.526 -4.042   0.8752326634
 268 -4.485 -3.205 -0.388 -0.085 -3.530 -4.042   0.8751109434
 273 -4.485 -3.207 -0.389 -0.087 -3.532 -4.042   0.8751006076
 277 -4.485 -3.207 -0.389 -0.087 -3.532 -4.042   0.8751001640
 280 -4.485 -3.207 -0.389 -0.087 -3.532 -4.042   0.8751000358
 284 -4.485 -3.207 -0.389 -0.087 -3.532 -4.042   0.8751000263
  powell nthiter 3: fret = 0.875100
 298 -4.486 -3.207 -0.389 -0.087 -3.532 -4.042   0.8750990430
 313 -4.486 -3.207 -0.389 -0.087 -3.532 -4.041   0.8750965046
 337 -4.486 -3.207 -0.389 -0.088 -3.532 -4.041   0.8750956203
 352 -4.486 -3.207 -0.389 -0.088 -3.531 -4.041   0.8750912219
 360 -4.486 -3.207 -0.389 -0.088 -3.531 -4.041   0.8750903196
 361 -4.486 -3.207 -0.389 -0.088 -3.531 -4.041   0.8750897726
 367 -4.486 -3.207 -0.389 -0.088 -3.531 -4.041   0.8750894919
Powell done niters = 3
Computing relative cost
 0  -25.0 -25.0 -25.0   0.997280
 1  -25.0 -25.0  25.0   0.993529
 2  -25.0  25.0 -25.0   0.988271
 3  -25.0  25.0  25.0   1.020584
 4   25.0 -25.0 -25.0   0.957977
 5   25.0 -25.0  25.0   0.999224
 6   25.0  25.0 -25.0   0.998077
 7   25.0  25.0  25.0   0.995637
REL:  8  0.875089    7.950579  0.993822 rel = 0.880529 
Number of iterations     3
Min cost was 0.875089
Number of FunctionCalls   370
TolPowell 0.000100
nMaxItersPowell 36
OptimizationTime 2.117190 sec
Parameters at optimum (transmm) -4.48582 -3.20712 -0.38933
Parameters at optimum (rotdeg) -0.08832 -3.53125 -4.04090 
Final costs ----------------
Number of surface hits 4289
WM  Intensity  1081.3446 +/- 632.2375
Ctx Intensity  1134.1953 +/- 683.4250
Pct Contrast      3.7504 +/-  51.8416
Cost   0.8751
RelCost   0.9449
Reg at min cost was 
-0.99381   0.05622   0.09584  -2.81549;
 0.09108  -0.08183   0.99248   13.30736;
-0.06364  -0.99506  -0.07620   4.60209;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/bbr.pass1.dat, type = 14 
Original Reg 
-0.99978   0.00044   0.02092   0.80891;
 0.02083  -0.07613   0.99688   16.58348;
-0.00203  -0.99710  -0.07610   4.97656;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
-0.00597  -0.05578  -0.07492   3.62439;
-0.07026   0.00570   0.00440   3.27612;
 0.06161  -0.00204   0.00010   0.37447;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 7.188738
Computing change in rh position
Surface-RMS-Diff-mm 6.001937 2.221762 11.609413
mri_segreg done
mri_segreg --mov /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/template.nii --init-reg /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/bbr.pass1.dat --out-reg /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/T2raw.auto.dat --interp trilinear --wm-proj-abs 1 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/T2raw.auto.dat.mincost --dof 6 --nmax 36 --param /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/T2raw.auto.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/reg.curopt.dat --gm-proj-abs 2 --nsub 1 --gm-gt-wm 0.5
7.4.1
setenv SUBJECTS_DIR /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job
cd /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/scripts
mri_segreg --mov /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/template.nii --init-reg /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/bbr.pass1.dat --out-reg /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/T2raw.auto.dat --interp trilinear --wm-proj-abs 1 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/T2raw.auto.dat.mincost --dof 6 --nmax 36 --param /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/T2raw.auto.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/reg.curopt.dat --gm-proj-abs 2 --nsub 1 --gm-gt-wm 0.5 
sysname  Linux
hostname bc12215.int.ets1.calculquebec.ca
machine  x86_64
user     bpinsard
movvol /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/template.nii
regfile /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/tmp.bbregister.171672/bbr.pass1.dat
subject sub-05_ses-007
dof 6
outregfile /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/T2raw.auto.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 1
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjAbs 2.000000
WMProjAbs 1.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000000
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1697502975
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99381   0.05622   0.09584  -2.81549;
 0.09108  -0.08183   0.99248   13.30736;
-0.06364  -0.99506  -0.07620   4.60209;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
ExcludeZeroVoxels 1
Reading in targ vol /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/orig.mgz
Projecting LH Surfs
Loading lh.white surf
GM Proj: 0 0.500000 2.000000
WM Proj: 0 0.500000 1.000000
Projecting RH Surfs
Loading rh.white surf
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.002603
 1  -25.0 -25.0  25.0   0.994634
 2  -25.0  25.0 -25.0   0.992279
 3  -25.0  25.0  25.0   1.001855
 4   25.0 -25.0 -25.0   0.971951
 5   25.0 -25.0  25.0   0.985359
 6   25.0  25.0 -25.0   0.991918
 7   25.0  25.0  25.0   0.963951
REL:  8  0.927913    7.904550  0.988069 rel = 0.939118 
Initial costs ----------------
Number of surface hits 429019
WM  Intensity  1105.2556 +/- 648.8632
Ctx Intensity  1134.9684 +/- 673.5087
Pct Contrast      2.0677 +/-  47.4220
Cost   0.9279
RelCost   0.9391

------------------------------------
Brute force preopt -0.1 0.1 0.1, n = 729
     0  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000      0.9105   0.9105  0.0
     1  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000   0.0000      0.9080   0.9080  0.0
     2  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000   0.1000      0.9075   0.9075  0.0
     5  -0.1000  -0.1000  -0.1000  -0.1000   0.0000   0.1000      0.9067   0.9067  0.0
     6  -0.1000  -0.1000  -0.1000  -0.1000   0.1000  -0.1000      0.9025   0.9025  0.0
    17  -0.1000  -0.1000  -0.1000   0.0000   0.1000   0.1000      0.9007   0.9007  0.0
    26  -0.1000  -0.1000  -0.1000   0.1000   0.1000   0.1000      0.9000   0.9000  0.0
Brute Force --------------------------
Min cost was 0.900001
Number of iterations   729
Search time 4.477626 sec
Parameters at best (transmm, rotdeg)
 -0.100  -0.100  -0.100  0.100  0.100  0.100 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 -0.1
1 -0.1
2 -0.1
3 0.1
4 0.1
5 0.1
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000000
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.927654
   3 -1.718 -0.100 -0.100  0.100  0.100  0.100   0.9211068548
  11 -1.674 -0.100 -0.100  0.100  0.100  0.100   0.9211026464
  13 -1.606 -0.100 -0.100  0.100  0.100  0.100   0.9210950670
  14 -1.563 -0.100 -0.100  0.100  0.100  0.100   0.9210246296
  16 -1.579 -0.100 -0.100  0.100  0.100  0.100   0.9209859303
  17 -1.578 -0.100 -0.100  0.100  0.100  0.100   0.9209839563
  18 -1.575 -0.100 -0.100  0.100  0.100  0.100   0.9209810453
  24 -1.575 -1.718 -0.100  0.100  0.100  0.100   0.9133277403
  28 -1.575 -2.216 -0.100  0.100  0.100  0.100   0.9123954532
  29 -1.575 -2.297 -0.100  0.100  0.100  0.100   0.9122883058
  32 -1.575 -2.270 -0.100  0.100  0.100  0.100   0.9122752028
  33 -1.575 -2.276 -0.100  0.100  0.100  0.100   0.9122749136
  36 -1.575 -2.279 -0.100  0.100  0.100  0.100   0.9122740599
  38 -1.575 -2.278 -0.100  0.100  0.100  0.100   0.9122738289
  43 -1.575 -2.278 -0.718  0.100  0.100  0.100   0.9101332953
  46 -1.575 -2.278 -0.482  0.100  0.100  0.100   0.9096319764
  49 -1.575 -2.278 -0.555  0.100  0.100  0.100   0.9093412140
  52 -1.575 -2.278 -0.540  0.100  0.100  0.100   0.9093160087
  54 -1.575 -2.278 -0.531  0.100  0.100  0.100   0.9092999202
  73 -1.575 -2.278 -0.531  0.103  0.100  0.100   0.9092941414
  75 -1.575 -2.278 -0.531  0.104  0.100  0.100   0.9092936409
  83 -1.575 -2.278 -0.531  0.104  0.286  0.100   0.9092812415
  84 -1.575 -2.278 -0.531  0.104  0.237  0.100   0.9091487544
  85 -1.575 -2.278 -0.531  0.104  0.195  0.100   0.9090034044
  86 -1.575 -2.278 -0.531  0.104  0.158  0.100   0.9089776452
  92 -1.575 -2.278 -0.531  0.104  0.159  0.100   0.9089770975
  94 -1.575 -2.278 -0.531  0.104  0.159  1.100   0.9058995508
  97 -1.575 -2.278 -0.531  0.104  0.159  1.718   0.9043737164
 100 -1.575 -2.278 -0.531  0.104  0.159  1.774   0.9043594946
 101 -1.575 -2.278 -0.531  0.104  0.159  1.758   0.9043565317
 102 -1.575 -2.278 -0.531  0.104  0.159  1.757   0.9043563245
  powell nthiter 1: fret = 0.904356
 114 -1.835 -2.278 -0.531  0.104  0.159  1.757   0.9042519022
 115 -1.780 -2.278 -0.531  0.104  0.159  1.757   0.9038834273
 117 -1.754 -2.278 -0.531  0.104  0.159  1.757   0.9038821739
 121 -1.759 -2.278 -0.531  0.104  0.159  1.757   0.9038763072
 123 -1.758 -2.278 -0.531  0.104  0.159  1.757   0.9038757375
 129 -1.758 -2.896 -0.531  0.104  0.159  1.757   0.9013110188
 131 -1.758 -2.847 -0.531  0.104  0.159  1.757   0.9012224557
 135 -1.758 -2.853 -0.531  0.104  0.159  1.757   0.9012217286
 136 -1.758 -2.851 -0.531  0.104  0.159  1.757   0.9012186694
 137 -1.758 -2.850 -0.531  0.104  0.159  1.757   0.9012185983
 145 -1.758 -2.850 -0.827  0.104  0.159  1.757   0.9001880312
 149 -1.758 -2.850 -0.818  0.104  0.159  1.757   0.9001767061
 151 -1.758 -2.850 -0.817  0.104  0.159  1.757   0.9001762795
 162 -1.758 -2.850 -0.816  0.093  0.159  1.757   0.9001606928
 163 -1.758 -2.850 -0.816  0.083  0.159  1.757   0.9001578034
 166 -1.758 -2.850 -0.816  0.075  0.159  1.757   0.9001570515
 167 -1.758 -2.850 -0.816  0.077  0.159  1.757   0.9001555585
 168 -1.758 -2.850 -0.816  0.079  0.159  1.757   0.9001555164
 178 -1.758 -2.850 -0.816  0.079  0.181  1.757   0.9000777563
 179 -1.758 -2.850 -0.816  0.079  0.211  1.757   0.9000428442
 182 -1.758 -2.850 -0.816  0.079  0.225  1.757   0.9000268683
 183 -1.758 -2.850 -0.816  0.079  0.220  1.757   0.9000158063
 184 -1.758 -2.850 -0.816  0.079  0.219  1.757   0.9000152475
 192 -1.758 -2.850 -0.816  0.079  0.219  1.546   0.9000052043
 193 -1.758 -2.850 -0.816  0.079  0.219  1.645   0.8996533830
 195 -1.758 -2.850 -0.816  0.079  0.219  1.616   0.8996404691
 197 -1.758 -2.850 -0.816  0.079  0.219  1.629   0.8996150895
 198 -1.758 -2.850 -0.816  0.079  0.219  1.630   0.8996144587
 199 -1.758 -2.850 -0.816  0.079  0.219  1.633   0.8996127397
  powell nthiter 2: fret = 0.899613
 213 -1.750 -2.850 -0.816  0.079  0.219  1.633   0.8996115477
 214 -1.753 -2.850 -0.816  0.079  0.219  1.633   0.8996097558
 226 -1.753 -2.854 -0.816  0.079  0.219  1.633   0.8996043490
 228 -1.753 -2.856 -0.816  0.079  0.219  1.633   0.8996043109
 238 -1.753 -2.856 -0.819  0.079  0.219  1.633   0.8995903396
 240 -1.753 -2.856 -0.829  0.079  0.219  1.633   0.8995705342
 242 -1.753 -2.856 -0.827  0.079  0.219  1.633   0.8995685524
 254 -1.753 -2.856 -0.827  0.069  0.219  1.633   0.8995586334
 256 -1.753 -2.856 -0.827  0.072  0.219  1.633   0.8995579469
 258 -1.753 -2.856 -0.827  0.071  0.219  1.633   0.8995578992
 272 -1.753 -2.856 -0.827  0.071  0.220  1.633   0.8995575352
  powell nthiter 3: fret = 0.899558
 310 -1.753 -2.857 -0.827  0.071  0.220  1.633   0.8995572941
 323 -1.753 -2.857 -0.826  0.071  0.220  1.633   0.8995570507
 337 -1.753 -2.857 -0.826  0.070  0.220  1.633   0.8995569081
  powell nthiter 4: fret = 0.899557
Powell done niters = 4
Computing relative cost
 0  -25.0 -25.0 -25.0   0.989202
 1  -25.0 -25.0  25.0   0.994387
 2  -25.0  25.0 -25.0   0.980745
 3  -25.0  25.0  25.0   1.007950
 4   25.0 -25.0 -25.0   0.999965
 5   25.0 -25.0  25.0   0.983440
 6   25.0  25.0 -25.0   0.958225
 7   25.0  25.0  25.0   0.971547
REL:  8  0.899557    7.885463  0.985683 rel = 0.912623 
Number of iterations     4
Min cost was 0.899557
Number of FunctionCalls   442
TolPowell 0.000000
nMaxItersPowell 36
OptimizationTime 77.702229 sec
Parameters at optimum (transmm) -1.75337 -2.85659 -0.82576
Parameters at optimum (rotdeg)  0.07010  0.22012  1.63255 
Final costs ----------------
Number of surface hits 429019
WM  Intensity  1078.4078 +/- 639.0876
Ctx Intensity  1112.6505 +/- 655.4662
Pct Contrast      3.3213 +/-  46.5956
Cost   0.8996
RelCost   0.9391
Reg at min cost was 
-0.99624   0.05467   0.06723  -4.92892;
 0.06280  -0.07909   0.99489   10.36002;
-0.05971  -0.99537  -0.07535   3.80340;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/T2raw.auto.dat, type = 14 
Original Reg 
-0.99381   0.05622   0.09584  -2.81549;
 0.09108  -0.08183   0.99248   13.30736;
-0.06364  -0.99506  -0.07620   4.60209;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
 0.00243   0.00155   0.02861   2.11343;
 0.02828  -0.00274  -0.00241   2.94734;
-0.00393   0.00031  -0.00085   0.79869;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 3.486773
Computing change in rh position
Surface-RMS-Diff-mm 4.077748 0.796217 5.619999
mri_segreg done
MinCost: 0.899557 1078.407752 1112.650543 3.321284 
tkregister2_cmdl --mov /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/orig/T2raw.mgz --reg /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/T2raw.auto.dat --noedit --ltaout /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/T2raw.auto.lta
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/orig/T2raw.mgz
reg file       /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/T2raw.auto.dat
LoadVol        0
ZeroCRAS       0
7.4.1
Diagnostic Level -1
---- Input registration matrix --------
-0.99624   0.05467   0.06723  -4.92892;
 0.06280  -0.07909   0.99489   10.36002;
-0.05971  -0.99537  -0.07535   3.80340;
 0.00000   0.00000   0.00000   1.00000;
float2int = 0
---------------------------------------
INFO: loading target /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/orig.mgz
INFO: target does not conform to COR format, so I'm going to
reslice to COR. This will not affect the final registration.
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/orig/T2raw.mgz
Tmov: --------------------
-0.80000   0.00000   0.00000   83.19952;
 0.00000   0.00000   0.80000  -128.00000;
 0.00000  -0.80000   0.00000   120.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
---- Input registration matrix --------
-0.99624   0.05467   0.06723  -4.92894;
 0.06280  -0.07909   0.99489   10.36004;
-0.05971  -0.99537  -0.07535   3.80341;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = sub-05_ses-007
RegMat ---------------------------
-0.99624   0.05467   0.06723  -4.92892;
 0.06280  -0.07909   0.99489   10.36002;
-0.05971  -0.99537  -0.07535   3.80340;
 0.00000   0.00000   0.00000   1.00000;
Cleaning up
 
Started at Sun Oct 8 06:28:46 UTC 2023 
Ended   at Sun Oct  8 06:32:57 UTC 2023
BBR-Run-Time-Sec 251
 
bbregister Done
To check results, run:
tkregisterfv --mov /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/orig/T2raw.mgz --reg /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job/sub-05_ses-007/mri/transforms/T2raw.auto.lta --surfs  --sd /localscratch/bpinsard.41451877.0/freesurfer_crosssectional_autorecon3_sub05_ses007.job
